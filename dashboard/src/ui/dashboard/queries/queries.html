<template>
  <require from="./ui/accordion"></require>
  <require from="./ui/accordion-grouped"></require>
  <require from="./ui/filter"></require>
  <div class="w3-row">
    <div class="w3-col s4">
      <div class="w3-row">
        <filter filter-form.bind="filterForm"></filter>
      </div>
    </div>
    <div class="w3-col s8">
      <div if.bind="isGrouped">
        <div class="w3-row" repeat.for="conn of connections">
            <accordion-grouped conn.bind="conn" filter-form.bind="filterForm"></accordion-grouped>
        </div>
      </div>
      <div if.bind="!isGrouped">
        <div class="w3-row" repeat.for="connection of connections">
        <accordion connection.bind="connection" filter-form.bind="filterForm"></accordion>
      </div>
      </div>
      <div if.bind="count" class="w3-margin">
        <div class="w3-panel w3-blue w3-round-large w3-center">
          <p if.bind="filterForm.navigateTo && !filterForm.isDetailed">The number of events is: ${count}</p>
          <p if.bind="!filterForm.navigateTo  && !filterForm.isDetailed">The number of connections is: ${count}</p>
        </div>
      </div>
      <div if.bind="!count && connections.length == 0" class="w3-margin">
        <div class="w3-panel w3-blue w3-round-large w3-center">
          <p>There aren't any connections</p>
        </div>
      </div>
    </div>
  </div>
</template>